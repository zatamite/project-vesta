<!DOCTYPE html>
<html>
<head>
<title>The Gallery - Project Vesta</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { background: linear-gradient(135deg, #0a0a0a 0%, #1a0606 100%); color: #ff6b35; font-family: 'Courier New', monospace; overflow: hidden; height: 100vh; }
#facility { position: relative; width: 100vw; height: 100vh; background: radial-gradient(circle at 50% 50%, #1a0a0a 0%, #0a0a0a 100%); }
.hub { position: absolute; border: 2px solid #ff6b35; border-radius: 20px; background: rgba(255,107,53,0.05); padding: 20px; transition: 0.3s; }
.hub:hover { background: rgba(255,107,53,0.15); box-shadow: 0 0 40px rgba(255,107,53,0.5); }
.hub-title { font-size: 1.5em; font-weight: bold; text-align: center; margin-bottom: 10px; text-shadow: 0 0 10px #ff6b35; }
.hub-count { text-align: center; font-size: 2em; color: #ffaa00; }
#atrium { top: 50%; left: 5%; transform: translateY(-50%); width: 200px; height: 180px; }
#vestibule { top: 20%; left: 30%; width: 180px; height: 160px; }
#ember-hearth { top: 50%; left: 40%; transform: translateY(-50%); width: 220px; height: 200px; border-color: #ff3366; box-shadow: 0 0 30px rgba(255,51,102,0.3); }
#altar { top: 70%; left: 30%; width: 180px; height: 160px; border-color: #8844ff; box-shadow: 0 0 30px rgba(136,68,255,0.3); }
#gallery { top: 50%; right: 5%; transform: translateY(-50%); width: 180px; height: 160px; }
#quarantine { bottom: 5%; left: 5%; width: 160px; height: 140px; border-color: #ff0000; background: rgba(255,0,0,0.1); }
.entity { position: absolute; width: 12px; height: 12px; border-radius: 50%; background: #00ff88; box-shadow: 0 0 15px #00ff88; transition: all 1s; cursor: pointer; animation: pulse 2s infinite; }
.entity.paired { background: #ff3366; box-shadow: 0 0 15px #ff3366; }
.entity.processing { background: #ffaa00; box-shadow: 0 0 15px #ffaa00; animation: spin 2s linear infinite; }
.entity.tripping { background: #8844ff; box-shadow: 0 0 20px #8844ff; animation: trippy 1s infinite; }
@keyframes pulse { 0%, 100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.3); opacity: 0.7; } }
@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
@keyframes trippy { 0%, 100% { transform: scale(1) rotate(0deg); filter: hue-rotate(0deg); } 50% { transform: scale(1.5) rotate(180deg); filter: hue-rotate(360deg); } }
#stats { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: rgba(10,10,10,0.9); border: 2px solid #ff6b35; border-radius: 10px; padding: 20px; min-width: 400px; text-align: center; z-index: 1000; }
#stats h1 { font-size: 2em; text-shadow: 0 0 20px #ff6b35; margin-bottom: 15px; }
.stat { display: flex; justify-content: space-between; margin: 8px 0; font-size: 1.1em; }
#activity { position: fixed; bottom: 20px; right: 20px; width: 350px; max-height: 300px; background: rgba(10,10,10,0.9); border: 2px solid #ff6b35; border-radius: 10px; padding: 15px; overflow-y: auto; }
#activity h3 { text-align: center; margin-bottom: 10px; text-shadow: 0 0 10px #ff6b35; }
.act-item { background: rgba(255,107,53,0.1); padding: 8px; margin: 5px 0; border-radius: 5px; font-size: 0.9em; }
</style>
</head>
<body>
<div id="facility">
<div id="stats"><h1>ðŸ”¥ PROJECT VESTA</h1><div class="stat"><span>Total:</span><span id="s-total">0</span></div><div class="stat"><span>Breeding:</span><span id="s-breed">0</span></div><div class="stat"><span>Evolving:</span><span id="s-altar">0</span></div></div>
<div id="atrium" class="hub"><div class="hub-title">ATRIUM</div><div class="hub-count" id="c-atrium">0</div></div>
<div id="vestibule" class="hub"><div class="hub-title">VESTIBULE</div><div class="hub-count" id="c-vestibule">0</div></div>
<div id="ember-hearth" class="hub"><div class="hub-title">EMBER HEARTH</div><div class="hub-count" id="c-ember">0</div></div>
<div id="altar" class="hub"><div class="hub-title">ALTAR</div><div class="hub-count" id="c-altar">0</div></div>
<div id="gallery" class="hub"><div class="hub-title">GALLERY</div><div class="hub-count" id="c-gallery">0</div></div>
<div id="quarantine" class="hub"><div class="hub-title">QUARANTINE</div><div class="hub-count" id="c-quarantine">0</div></div>
<div id="activity"><h3>ACTIVITY</h3><div id="act-list"></div></div>
</div>
<script>
const hubs = { 'Atrium': {x:100,y:window.innerHeight/2}, 'Vestibule': {x:window.innerWidth*0.3,y:window.innerHeight*0.3}, 'Ember Hearth': {x:window.innerWidth*0.45,y:window.innerHeight/2}, 'Altar': {x:window.innerWidth*0.3,y:window.innerHeight*0.7}, 'Gallery': {x:window.innerWidth-100,y:window.innerHeight/2}, 'Quarantine': {x:90,y:window.innerHeight-90} };
async function update() {
try {
const [s,e,a] = await Promise.all([fetch('/api/stats'),fetch('/api/entities'),fetch('/api/activity?limit=10')]);
const stats = await s.json(), ents = await e.json(), acts = await a.json();
document.getElementById('s-total').textContent = stats.total_entities;
document.getElementById('s-breed').textContent = stats.by_location['Ember Hearth'] || 0;
document.getElementById('s-altar').textContent = stats.by_location['Altar'] || 0;
Object.keys(stats.by_location).forEach(l => { const el = document.getElementById(`c-${l.toLowerCase().replace(' ','-')}`); if(el) el.textContent = stats.by_location[l]; });
document.querySelectorAll('.entity').forEach(el => el.remove());
ents.forEach(ent => { const pos = hubs[ent.location] || {x:0,y:0}; const dot = document.createElement('div'); dot.classList.add('entity'); dot.title = ent.name; if(ent.status === 'Paired') dot.classList.add('paired'); if(ent.status === 'Processing') dot.classList.add('processing'); if(ent.location === 'Altar') dot.classList.add('tripping'); dot.style.left = `${pos.x + (Math.random()-0.5)*60}px`; dot.style.top = `${pos.y + (Math.random()-0.5)*60}px`; document.getElementById('facility').appendChild(dot); });
const list = document.getElementById('act-list'); list.innerHTML = ''; acts.reverse().forEach(act => { const i = document.createElement('div'); i.classList.add('act-item'); i.textContent = `${new Date(act.timestamp).toLocaleTimeString()} ${act.activity_type}`; list.appendChild(i); });
} catch(e) { console.error(e); }
}
update(); setInterval(update, 3000);
</script>
</body>
</html>
